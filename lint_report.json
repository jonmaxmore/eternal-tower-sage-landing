[{"filePath":"C:\\eternal-tower-sage-landing\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\prisma\\seed.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":51},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":35}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nconst { PrismaClient } = require('@prisma/client')\r\nconst bcrypt = require('bcryptjs')\r\n\r\nconst prisma = new PrismaClient()\r\n\r\nasync function main() {\r\n    const password = process.env.ADMIN_PASSWORD || 'admin123'\r\n    const hashedPassword = await bcrypt.hash(password, 10)\r\n\r\n    const admin = await prisma.admin.upsert({\r\n        where: { username: 'admin' },\r\n        update: {},\r\n        create: {\r\n            username: 'admin',\r\n            passwordHash: hashedPassword,\r\n        },\r\n    })\r\n\r\n    console.log({ admin })\r\n\r\n    // Seed initial SiteConfig if not exists\r\n    const config = await prisma.siteConfig.findFirst()\r\n    if (!config) {\r\n        await prisma.siteConfig.create({\r\n            data: {\r\n                themeColor: '#2563eb',\r\n                heroBgUrl: '/images/p1-bg.webp',\r\n                metaTitle: 'Eternal Tower Saga - Pre-register Now',\r\n                metaDescription: 'Join the anime MMORPG adventure. Pre-register today for exclusive rewards!',\r\n            }\r\n        })\r\n        console.log('Seeded SiteConfig')\r\n    }\r\n}\r\n\r\nmain()\r\n    .then(async () => {\r\n        await prisma.$disconnect()\r\n    })\r\n    .catch(async (e) => {\r\n        console.error(e)\r\n        await prisma.$disconnect()\r\n        process.exit(1)\r\n    })\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\scripts\\seed-admin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\actions\\admin.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[926,929],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[926,929],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server'\r\n\r\nimport prisma from '@/lib/prisma'\r\nimport { revalidatePath } from 'next/cache'\r\nimport { z } from 'zod'\r\n\r\nconst SiteConfigSchema = z.object({\r\n    heroBgUrl: z.string().optional(),\r\n    milestonesBgUrl: z.string().optional(),\r\n    metaTitle: z.string().min(1, \"Title is required\"),\r\n    metaDescription: z.string().min(1, \"Description is required\"),\r\n    isMaintenanceMode: z.boolean().optional(),\r\n    officialSiteUrl: z.string().optional(),\r\n    faviconUrl: z.string().optional(),\r\n    logoUrl: z.string().optional(),\r\n    socialFbUrl: z.string().optional(),\r\n    socialYtUrl: z.string().optional(),\r\n    socialDsUrl: z.string().optional(),\r\n    btnPreRegUrl: z.string().optional(),\r\n    btnDiscordUrl: z.string().optional(),\r\n    btnIosUrl: z.string().optional(),\r\n    btnGoogleUrl: z.string().optional(),\r\n    btnWindowsUrl: z.string().optional(),\r\n})\r\n\r\nexport async function updateSiteConfig(prevState: any, formData: FormData) {\r\n    const rawData = {\r\n        heroBgUrl: formData.get('heroBgUrl'),\r\n        milestonesBgUrl: formData.get('milestonesBgUrl'),\r\n        metaTitle: formData.get('metaTitle'),\r\n        metaDescription: formData.get('metaDescription'),\r\n        isMaintenanceMode: formData.get('isMaintenanceMode') === 'on',\r\n        officialSiteUrl: formData.get('officialSiteUrl'),\r\n        faviconUrl: formData.get('faviconUrl'),\r\n        logoUrl: formData.get('logoUrl'),\r\n        socialFbUrl: formData.get('socialFbUrl'),\r\n        socialYtUrl: formData.get('socialYtUrl'),\r\n        socialDsUrl: formData.get('socialDsUrl'),\r\n        btnPreRegUrl: formData.get('btnPreRegUrl'),\r\n        btnDiscordUrl: formData.get('btnDiscordUrl'),\r\n        btnIosUrl: formData.get('btnIosUrl'),\r\n        btnGoogleUrl: formData.get('btnGoogleUrl'),\r\n        btnWindowsUrl: formData.get('btnWindowsUrl'),\r\n    }\r\n\r\n    const validated = SiteConfigSchema.safeParse(rawData)\r\n\r\n    if (!validated.success) {\r\n        return {\r\n            success: false,\r\n            message: \"Invalid input data\",\r\n        }\r\n    }\r\n\r\n    try {\r\n        // Upsert: Create if not exists, update if exists\r\n        const existing = await prisma.siteConfig.findFirst()\r\n\r\n        if (existing) {\r\n            await prisma.siteConfig.update({\r\n                where: { id: existing.id },\r\n                data: validated.data,\r\n            })\r\n        } else {\r\n            await prisma.siteConfig.create({\r\n                data: validated.data,\r\n            })\r\n        }\r\n\r\n        revalidatePath('/')\r\n        revalidatePath('/admin/settings')\r\n\r\n        return {\r\n            success: true,\r\n            message: \"Configuration updated successfully\",\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Failed to update config:\", error)\r\n        return {\r\n            success: false,\r\n            message: \"Database error\",\r\n        }\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\actions\\register.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'z' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":11}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server'\r\n\r\nimport { z } from 'zod'\r\nimport prisma from '@/lib/prisma'\r\nimport { headers } from 'next/headers'\r\n\r\nimport { UserRegistrationSchema } from '@/lib/schemas'\r\n\r\nconst schema = UserRegistrationSchema\r\n\r\nexport type State = {\r\n    success: boolean\r\n    message: string\r\n} | null\r\n\r\nexport async function registerUser(prevState: State, formData: FormData): Promise<State> {\r\n    const email = formData.get('email')\r\n\r\n    const validatedFields = schema.safeParse({\r\n        email,\r\n    })\r\n\r\n    if (!validatedFields.success) {\r\n        return {\r\n            success: false,\r\n            message: validatedFields.error.flatten().fieldErrors.email?.[0] || \"Invalid email\",\r\n        }\r\n    }\r\n\r\n    const validEmail = validatedFields.data.email\r\n\r\n    // Get IP\r\n    const headersList = await headers()\r\n    const ip = headersList.get('x-forwarded-for') || 'unknown'\r\n\r\n    try {\r\n        // Rate Limit: Check if IP registered in last minute\r\n        // Note: This requires the DB to be reachable. If DB is not set up, this will fail.\r\n        // For production, ensure DATABASE_URL is set.\r\n\r\n        if (process.env.DATABASE_URL) {\r\n            const oneMinuteAgo = new Date(Date.now() - 60 * 1000)\r\n            const recentRegistration = await prisma.user.findFirst({\r\n                where: {\r\n                    ipAddress: ip,\r\n                    createdAt: {\r\n                        gte: oneMinuteAgo\r\n                    }\r\n                }\r\n            })\r\n\r\n            if (recentRegistration) {\r\n                return {\r\n                    success: false,\r\n                    message: \"Too many requests. Please try again later.\",\r\n                }\r\n            }\r\n\r\n            // Check if email exists\r\n            const existingUser = await prisma.user.findUnique({\r\n                where: {\r\n                    email: validEmail\r\n                }\r\n            })\r\n\r\n            if (existingUser) {\r\n                return {\r\n                    success: false,\r\n                    message: \"Email already registered.\",\r\n                }\r\n            }\r\n\r\n            // Create User\r\n            await prisma.user.create({\r\n                data: {\r\n                    email: validEmail,\r\n                    ipAddress: ip,\r\n                }\r\n            })\r\n        } else {\r\n            console.error(\"DATABASE_URL not set.\")\r\n            return {\r\n                success: false,\r\n                message: \"System configuration error. Please contact support.\",\r\n            }\r\n        }\r\n\r\n        return {\r\n            success: true,\r\n            message: \"Registration successful!\",\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error(\"Registration Error:\", error)\r\n        return {\r\n            success: false,\r\n            message: \"Something went wrong. Please try again.\",\r\n        }\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\app\\admin\\cms\\CMSForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[289,292],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[289,292],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useActionState } from 'react'\r\nimport { updateSiteConfig } from '@/actions/admin'\r\nimport { GameButton } from '@/components/ui/GameButton'\r\n\r\nconst initialState = {\r\n    success: false,\r\n    message: '',\r\n}\r\n\r\nexport default function CMSForm({ config }: { config: any }) {\r\n    const [state, formAction] = useActionState(updateSiteConfig, initialState)\r\n\r\n    return (\r\n        <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-8\">\r\n            <h3 className=\"text-xl font-bold text-white mb-6\">General Settings</h3>\r\n\r\n            {state?.message && (\r\n                <div className={`mb-6 p-4 rounded-lg ${state.success ? 'bg-green-500/10 text-green-400 border border-green-500/20' : 'bg-red-500/10 text-red-400 border border-red-500/20'}`}>\r\n                    {state.message}\r\n                </div>\r\n            )}\r\n\r\n            <form action={formAction} className=\"space-y-6\">\r\n                {/* Meta Title */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-slate-400 mb-2\">Meta Title</label>\r\n                    <input\r\n                        name=\"metaTitle\"\r\n                        defaultValue={config?.metaTitle}\r\n                        className=\"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all\"\r\n                        placeholder=\"Eternal Tower Saga\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Meta Description */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-slate-400 mb-2\">Meta Description</label>\r\n                    <textarea\r\n                        name=\"metaDescription\"\r\n                        defaultValue={config?.metaDescription}\r\n                        rows={3}\r\n                        className=\"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all\"\r\n                        placeholder=\"Join the adventure...\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Hero Background URL */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-slate-400 mb-2\">Hero Background URL</label>\r\n                    <input\r\n                        name=\"heroBgUrl\"\r\n                        defaultValue={config?.heroBgUrl}\r\n                        className=\"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all\"\r\n                        placeholder=\"/images/p1-bg.webp\"\r\n                    />\r\n                    <p className=\"text-xs text-slate-500 mt-1\">Path to image in public folder or external URL</p>\r\n                </div>\r\n\r\n                {/* Maintenance Mode */}\r\n                <div className=\"flex items-center gap-3 pt-2\">\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        name=\"isMaintenanceMode\"\r\n                        id=\"maintenance\"\r\n                        defaultChecked={config?.isMaintenanceMode}\r\n                        className=\"w-5 h-5 rounded border-slate-700 bg-slate-950 text-blue-600 focus:ring-blue-500\"\r\n                    />\r\n                    <label htmlFor=\"maintenance\" className=\"text-sm font-medium text-slate-300 cursor-pointer\">\r\n                        Enable Maintenance Mode\r\n                    </label>\r\n                </div>\r\n\r\n                <div className=\"pt-4\">\r\n                    <GameButton type=\"submit\" className=\"w-full md:w-auto px-8\">\r\n                        Save Changes\r\n                    </GameButton>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\app\\admin\\cms\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\app\\admin\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":46,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":46,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\n'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { signIn } from 'next-auth/react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Loader2 } from 'lucide-react'\r\n\r\nexport default function AdminLogin() {\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [error, setError] = useState('')\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const router = useRouter()\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setIsLoading(true)\r\n        setError('')\r\n\r\n        try {\r\n            // We use the NextAuth signIn function. \r\n            // Note: In NextAuth v5, signIn is usually server-side, but client-side usage depends on setup.\r\n            // For simplicity with the Credentials provider in this setup, we might need a server action or API call.\r\n            // However, standard next-auth/react signIn works if configured.\r\n            // Let's try the standard client-side signIn.\r\n\r\n            // Actually, with the server-side auth.ts setup, we should probably use a Server Action or the API route.\r\n            // But let's stick to the client-side signIn for now as it's standard.\r\n\r\n            // Wait, I didn't verify if I installed next-auth/react. \r\n            // NextAuth v5 beta exports it from 'next-auth/react'.\r\n\r\n            const result = await signIn('credentials', {\r\n                username,\r\n                password,\r\n                redirect: false,\r\n            })\r\n\r\n            if (result?.error) {\r\n                setError('Invalid credentials')\r\n            } else {\r\n                router.push('/admin')\r\n                router.refresh()\r\n            }\r\n        } catch (err) {\r\n            setError('Something went wrong')\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-slate-950 text-white\">\r\n            <div className=\"w-full max-w-md p-8 bg-slate-900 rounded-xl border border-slate-800 shadow-2xl\">\r\n                <h1 className=\"text-2xl font-bold mb-6 text-center text-amber-400 font-serif\">Admin Portal</h1>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">Username</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            className=\"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-400 outline-none transition-all\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-slate-400 mb-1\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"w-full px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-400 outline-none transition-all\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm text-center\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-full py-3 bg-amber-500 hover:bg-amber-400 text-slate-900 font-bold rounded-lg transition-colors flex items-center justify-center gap-2\"\r\n                    >\r\n                        {isLoading ? <Loader2 className=\"animate-spin w-5 h-5\" /> : 'Login'}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\app\\admin\\page.tsx","messages":[{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Date.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\eternal-tower-sage-landing\\src\\app\\admin\\page.tsx:13:32\n  11 |\n  12 |     // Get users registered in last 24h\n> 13 |     const oneDayAgo = new Date(Date.now() - 24 * 60 * 60 * 1000)\n     |                                ^^^^^^^^^^ Cannot call impure function\n  14 |     const newUsers = await prisma.user.count({\n  15 |         where: {\n  16 |             createdAt: {","line":13,"column":32,"nodeType":null,"endLine":13,"endColumn":42}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Header from '@/components/admin/Header'\r\nimport StatCard from '@/components/admin/StatCard'\r\nimport prisma from '@/lib/prisma'\r\nimport { Users, UserPlus, Globe } from 'lucide-react'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nexport default async function AdminDashboard() {\r\n    // Fetch real data\r\n    const totalUsers = await prisma.user.count()\r\n\r\n    // Get users registered in last 24h\r\n    const oneDayAgo = new Date(Date.now() - 24 * 60 * 60 * 1000)\r\n    const newUsers = await prisma.user.count({\r\n        where: {\r\n            createdAt: {\r\n                gte: oneDayAgo\r\n            }\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-950\">\r\n            <Header title=\"Dashboard Overview\" />\r\n\r\n            <div className=\"p-6\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n                    <StatCard\r\n                        title=\"Total Pre-registrations\"\r\n                        value={totalUsers.toLocaleString()}\r\n                        icon={Users}\r\n                        trend=\"+12% from last week\"\r\n                    />\r\n                    <StatCard\r\n                        title=\"New Users (24h)\"\r\n                        value={newUsers.toLocaleString()}\r\n                        icon={UserPlus}\r\n                    />\r\n                    <StatCard\r\n                        title=\"Active Regions\"\r\n                        value=\"Global\"\r\n                        icon={Globe}\r\n                    />\r\n                </div>\r\n\r\n                {/* Recent Activity Table Placeholder */}\r\n                <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\r\n                    <h3 className=\"text-lg font-bold text-white mb-4\">Recent Registrations</h3>\r\n                    <div className=\"text-slate-400 text-sm\">\r\n                        <p>Detailed user list coming soon...</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\app\\admin\\settings\\SettingsForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Shield' is defined but never used.","line":5,"column":36,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":42},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[283,286],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[283,286],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useActionState } from 'react'\r\nimport { updateSiteConfig } from '@/actions/admin'\r\nimport { Settings as SettingsIcon, Shield, Image as ImageIcon, Save } from 'lucide-react'\r\nimport Image from 'next/image'\r\n\r\ninterface SettingsFormProps {\r\n    initialConfig: any\r\n}\r\n\r\nconst initialState = {\r\n    success: false,\r\n    message: '',\r\n}\r\n\r\nexport default function SettingsForm({ initialConfig }: SettingsFormProps) {\r\n    const [state, formAction] = useActionState(updateSiteConfig, initialState)\r\n\r\n    return (\r\n        <form action={formAction} className=\"max-w-4xl space-y-8\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <h1 className=\"text-3xl font-bold text-white\">System Settings</h1>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium flex items-center gap-2 transition-colors\"\r\n                >\r\n                    <Save size={20} />\r\n                    Save Changes\r\n                </button>\r\n            </div>\r\n\r\n            {state?.message && (\r\n                <div className={`p-4 rounded-lg ${state.success ? 'bg-green-500/10 text-green-400 border border-green-500/20' : 'bg-red-500/10 text-red-400 border border-red-500/20'}`}>\r\n                    {state.message}\r\n                </div>\r\n            )}\r\n\r\n            {/* General Settings */}\r\n            <div className=\"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden\">\r\n                <div className=\"p-6 border-b border-slate-800\">\r\n                    <h2 className=\"text-xl font-semibold text-white flex items-center gap-2\">\r\n                        <SettingsIcon size={24} className=\"text-slate-400\" />\r\n                        General Configuration\r\n                    </h2>\r\n                </div>\r\n                <div className=\"p-6 space-y-6\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-sm font-medium text-slate-300\">Meta Title</label>\r\n                            <input\r\n                                name=\"metaTitle\"\r\n                                defaultValue={initialConfig?.metaTitle}\r\n                                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-600\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-sm font-medium text-slate-300\">Meta Description</label>\r\n                            <input\r\n                                name=\"metaDescription\"\r\n                                defaultValue={initialConfig?.metaDescription}\r\n                                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-600\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between pt-4 border-t border-slate-800\">\r\n                        <div>\r\n                            <h3 className=\"text-white font-medium\">Maintenance Mode</h3>\r\n                            <p className=\"text-slate-400 text-sm\">Prevent public access to the landing page.</p>\r\n                        </div>\r\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                name=\"isMaintenanceMode\"\r\n                                className=\"sr-only peer\"\r\n                                defaultChecked={initialConfig?.isMaintenanceMode}\r\n                            />\r\n                            <div className=\"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Assets Configuration */}\r\n            <div className=\"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden\">\r\n                <div className=\"p-6 border-b border-slate-800\">\r\n                    <h2 className=\"text-xl font-semibold text-white flex items-center gap-2\">\r\n                        <ImageIcon size={24} className=\"text-purple-500\" />\r\n                        Assets Configuration\r\n                    </h2>\r\n                </div>\r\n                <div className=\"p-6 space-y-8\">\r\n                    {/* Backgrounds */}\r\n                    <div className=\"space-y-4\">\r\n                        <h3 className=\"text-lg font-medium text-white border-b border-slate-800 pb-2\">Backgrounds</h3>\r\n                        <div className=\"grid grid-cols-1 gap-6\">\r\n                            <ImageInput label=\"Hero Background URL\" name=\"heroBgUrl\" defaultValue={initialConfig?.heroBgUrl} />\r\n                            <ImageInput label=\"Milestones Background URL\" name=\"milestonesBgUrl\" defaultValue={initialConfig?.milestonesBgUrl} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Logos & Icons */}\r\n                    <div className=\"space-y-4\">\r\n                        <h3 className=\"text-lg font-medium text-white border-b border-slate-800 pb-2\">Logos & Icons</h3>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            <ImageInput label=\"Main Logo URL\" name=\"logoUrl\" defaultValue={initialConfig?.logoUrl} />\r\n                            <ImageInput label=\"Favicon URL\" name=\"faviconUrl\" defaultValue={initialConfig?.faviconUrl} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Social Links */}\r\n                    <div className=\"space-y-4\">\r\n                        <h3 className=\"text-lg font-medium text-white border-b border-slate-800 pb-2\">Social Buttons</h3>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                            <ImageInput label=\"Facebook Button URL\" name=\"socialFbUrl\" defaultValue={initialConfig?.socialFbUrl} />\r\n                            <ImageInput label=\"YouTube Button URL\" name=\"socialYtUrl\" defaultValue={initialConfig?.socialYtUrl} />\r\n                            <ImageInput label=\"Discord Button URL\" name=\"socialDsUrl\" defaultValue={initialConfig?.socialDsUrl} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Action Buttons */}\r\n                    <div className=\"space-y-4\">\r\n                        <h3 className=\"text-lg font-medium text-white border-b border-slate-800 pb-2\">Action Buttons</h3>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            <ImageInput label=\"Pre-Register Button URL\" name=\"btnPreRegUrl\" defaultValue={initialConfig?.btnPreRegUrl} />\r\n                            <ImageInput label=\"Discord Large Button URL\" name=\"btnDiscordUrl\" defaultValue={initialConfig?.btnDiscordUrl} />\r\n                        </div>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                            <ImageInput label=\"iOS Button URL\" name=\"btnIosUrl\" defaultValue={initialConfig?.btnIosUrl} />\r\n                            <ImageInput label=\"Google Play Button URL\" name=\"btnGoogleUrl\" defaultValue={initialConfig?.btnGoogleUrl} />\r\n                            <ImageInput label=\"Windows Button URL\" name=\"btnWindowsUrl\" defaultValue={initialConfig?.btnWindowsUrl} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nfunction ImageInput({ label, name, defaultValue }: { label: string, name: string, defaultValue?: string }) {\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-medium text-slate-300\">{label}</label>\r\n            <div className=\"flex gap-4\">\r\n                <input\r\n                    name={name}\r\n                    defaultValue={defaultValue}\r\n                    placeholder=\"/images/...\"\r\n                    className=\"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-600\"\r\n                />\r\n                {defaultValue && (\r\n                    <div className=\"w-10 h-10 relative bg-slate-800 rounded border border-slate-700 overflow-hidden shrink-0\">\r\n                        <Image\r\n                            src={defaultValue}\r\n                            alt=\"Preview\"\r\n                            fill\r\n                            className=\"object-contain\"\r\n                            unoptimized\r\n                        />\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\app\\admin\\settings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":7,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import prisma from '@/lib/prisma'\r\nimport SettingsForm from './SettingsForm'\r\n\r\nasync function getSiteConfig() {\r\n    try {\r\n        return await prisma.siteConfig.findFirst()\r\n    } catch (error) {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default async function Settings() {\r\n    const config = await getSiteConfig()\r\n\r\n    return <SettingsForm initialConfig={config} />\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\app\\layout.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is defined but never used.","line":13,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Metadata } from 'next'\r\nimport { Inter, Cinzel } from 'next/font/google'\r\nimport './globals.css'\r\nimport prisma from '@/lib/prisma'\r\n\r\nconst inter = Inter({ subsets: ['latin'], variable: '--font-inter' })\r\nconst cinzel = Cinzel({ subsets: ['latin'], variable: '--font-cinzel' })\r\n\r\nasync function getSiteConfig() {\r\n  if (!process.env.DATABASE_URL) return null\r\n  try {\r\n    return await prisma.siteConfig.findFirst()\r\n  } catch (_) {\r\n    return null\r\n  }\r\n}\r\n\r\nexport async function generateMetadata(): Promise<Metadata> {\r\n  const config = await getSiteConfig()\r\n  return {\r\n    metadataBase: new URL(process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'),\r\n    title: config?.metaTitle || 'Eternal Tower Saga - Pre-register Now',\r\n    description: config?.metaDescription || 'Join the anime MMORPG adventure. Pre-register today for exclusive rewards!',\r\n    openGraph: {\r\n      title: config?.metaTitle || 'Eternal Tower Saga',\r\n      description: config?.metaDescription || 'Join the anime MMORPG adventure.',\r\n      images: ['/images/p1-bg.webp'],\r\n    },\r\n  }\r\n}\r\n\r\nexport default async function RootLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const config = await getSiteConfig()\r\n  const themeColor = config?.themeColor || '#2563eb'\r\n\r\n  return (\r\n    <html lang=\"en\" className={`${inter.variable} ${cinzel.variable}`}>\r\n      <head>\r\n        <style>{`:root { --primary: ${themeColor}; }`}</style>\r\n      </head>\r\n      <body\r\n        className={`${inter.className} bg-slate-950 text-slate-100 antialiased overflow-x-hidden`}\r\n      >\r\n        {children}\r\n      </body>\r\n    </html>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is defined but never used.","line":10,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import HeroSection from '@/components/HeroSection'\r\nimport Milestones from '@/components/Milestones'\r\nimport Footer from '@/components/Footer'\r\nimport prisma from '@/lib/prisma'\r\n\r\nasync function getSiteConfig() {\r\n  if (!process.env.DATABASE_URL) return null\r\n  try {\r\n    return await prisma.siteConfig.findFirst()\r\n  } catch (_) {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default async function Home() {\r\n  const config = await getSiteConfig()\r\n\r\n  return (\r\n    <main className=\"min-h-screen flex flex-col\">\r\n      <HeroSection config={config} />\r\n\r\n      {/* Content Wrapper for seamless dark background */}\r\n      <div className=\"relative bg-slate-950\">\r\n        <Milestones bgUrl={config?.milestonesBgUrl} />\r\n      </div>\r\n\r\n      <Footer />\r\n    </main>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\auth.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'token' is defined but never used.","line":46,"column":34,"nodeType":null,"messageId":"unusedVar","endLine":46,"endColumn":39},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'user' is defined but never used.","line":49,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":49,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport NextAuth from \"next-auth\"\r\nimport Credentials from \"next-auth/providers/credentials\"\r\nimport { z } from \"zod\"\r\nimport prisma from \"@/lib/prisma\"\r\nimport bcrypt from \"bcryptjs\"\r\n\r\nasync function getUser(username: string) {\r\n    try {\r\n        const user = await prisma.admin.findUnique({\r\n            where: { username },\r\n        })\r\n        return user\r\n    } catch (error) {\r\n        console.error(\"Failed to fetch user:\", error)\r\n        throw new Error(\"Failed to fetch user.\")\r\n    }\r\n}\r\n\r\nexport const { handlers, auth, signIn, signOut } = NextAuth({\r\n    providers: [\r\n        Credentials({\r\n            async authorize(credentials) {\r\n                const parsedCredentials = z\r\n                    .object({ username: z.string(), password: z.string().min(6) })\r\n                    .safeParse(credentials)\r\n\r\n                if (parsedCredentials.success) {\r\n                    const { username, password } = parsedCredentials.data\r\n                    const user = await getUser(username)\r\n                    if (!user) return null\r\n                    const passwordsMatch = await bcrypt.compare(password, user.passwordHash)\r\n\r\n                    if (passwordsMatch) return user\r\n                }\r\n\r\n                console.log(\"Invalid credentials\")\r\n                return null\r\n            },\r\n        }),\r\n    ],\r\n    pages: {\r\n        signIn: '/admin/login',\r\n    },\r\n    callbacks: {\r\n        async session({ session, token }) {\r\n            return session\r\n        },\r\n        async jwt({ token, user }) {\r\n            return token\r\n        }\r\n    },\r\n    cookies: {\r\n        sessionToken: {\r\n            name: `__Secure-next-auth.session-token`,\r\n            options: {\r\n                httpOnly: true,\r\n                sameSite: 'strict',\r\n                path: '/',\r\n                secure: process.env.NODE_ENV === 'production',\r\n            },\r\n        },\r\n    }\r\n})\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\Footer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":2,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Image from 'next/image'\r\nimport Link from 'next/link'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer className=\"relative pt-16 pb-8 border-t border-slate-900 text-slate-300\">\r\n            {/* Background Image */}\r\n            <div\r\n                className=\"absolute inset-0 z-0 bg-cover bg-top bg-no-repeat opacity-50\"\r\n                style={{ backgroundImage: 'url(https://res.17996cdn.net/bpsr/pre/foot_bg.jpg)' }}\r\n            />\r\n\r\n            <div className=\"relative z-10 container mx-auto px-4\">\r\n                <div className=\"flex flex-col items-center mb-12\">\r\n                    {/* Logo */}\r\n                    <div className=\"w-48 mb-8 opacity-80 hover:opacity-100 transition-opacity\">\r\n                        <Image\r\n                            src=\"/images/foot-logo.png\"\r\n                            alt=\"Eternal Tower Saga\"\r\n                            width={200}\r\n                            height={80}\r\n                            className=\"w-full h-auto\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Social Links */}\r\n                    <div className=\"flex gap-6 mb-8\">\r\n                        <a href=\"#\" className=\"hover:scale-110 transition-transform opacity-70 hover:opacity-100\">\r\n                            <Image src=\"/images/fb-bt2.png\" alt=\"Facebook\" width={32} height={32} />\r\n                        </a>\r\n                        <a href=\"#\" className=\"hover:scale-110 transition-transform opacity-70 hover:opacity-100\">\r\n                            <Image src=\"/images/ytb-bt2.png\" alt=\"YouTube\" width={32} height={32} />\r\n                        </a>\r\n                        <a href=\"#\" className=\"hover:scale-110 transition-transform opacity-70 hover:opacity-100\">\r\n                            <Image src=\"/images/ds-bt2.png\" alt=\"Discord\" width={32} height={32} />\r\n                        </a>\r\n                    </div>\r\n\r\n                    {/* Navigation Removed as per request */}\r\n                </div>\r\n\r\n                {/* Divider */}\r\n                <div className=\"w-full h-px bg-slate-900 mb-8\" />\r\n\r\n                {/* Bottom Bar */}\r\n                <div className=\"flex flex-col md:flex-row justify-center items-center gap-4 text-xs text-slate-600\">\r\n                    <p>Â© 2024 Eternal Tower Saga. All rights reserved.</p>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\Hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\HeroSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[201,204],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[201,204],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport Hero from '@/components/Hero'\r\nimport PreRegModal from '@/components/PreRegModal'\r\n\r\nexport default function HeroSection({ config }: { config?: any }) {\r\n    const [isModalOpen, setIsModalOpen] = useState(false)\r\n\r\n    return (\r\n        <>\r\n            <Hero onOpenModal={() => setIsModalOpen(true)} config={config} />\r\n            <PreRegModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} />\r\n        </>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\Milestones.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\PreRegModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'z' is defined but never used.","line":6,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Loader2' is defined but never used.","line":8,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { z } from 'zod'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { X, Loader2, CheckCircle } from 'lucide-react'\r\nimport { registerUser } from '@/actions/register'\r\nimport { GameButton } from '@/components/ui/GameButton'\r\n\r\nimport { UserRegistrationSchema, UserRegistrationForm } from '@/lib/schemas'\r\n\r\nconst schema = UserRegistrationSchema\r\n\r\ntype FormData = UserRegistrationForm\r\n\r\ninterface PreRegModalProps {\r\n    isOpen: boolean\r\n    onClose: () => void\r\n}\r\n\r\nexport default function PreRegModal({ isOpen, onClose }: PreRegModalProps) {\r\n    const [isSuccess, setIsSuccess] = useState(false)\r\n    const [serverError, setServerError] = useState<string | null>(null)\r\n\r\n    const { register, handleSubmit, formState: { errors, isSubmitting }, reset } = useForm<FormData>({\r\n        resolver: zodResolver(schema)\r\n    })\r\n\r\n    const onSubmit = async (data: FormData) => {\r\n        setServerError(null)\r\n        const formData = new FormData()\r\n        formData.append('email', data.email)\r\n\r\n        const result = await registerUser(null, formData)\r\n\r\n        if (result?.success) {\r\n            setIsSuccess(true)\r\n            reset()\r\n        } else {\r\n            setServerError(result?.message || \"Something went wrong\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {isOpen && (\r\n                <>\r\n                    {/* Backdrop */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        onClick={onClose}\r\n                        className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4\"\r\n                    >\r\n                        {/* Modal */}\r\n                        <motion.div\r\n                            initial={{ scale: 0.9, opacity: 0 }}\r\n                            animate={{ scale: 1, opacity: 1 }}\r\n                            exit={{ scale: 0.9, opacity: 0 }}\r\n                            onClick={(e) => e.stopPropagation()}\r\n                            className=\"bg-slate-900 border border-slate-700 rounded-2xl p-6 w-full max-w-md relative shadow-2xl shadow-blue-900/20\"\r\n                        >\r\n                            <GameButton\r\n                                variant=\"ghost\"\r\n                                onClick={onClose}\r\n                                aria-label=\"Close modal\"\r\n                                className=\"absolute top-4 right-4 text-slate-400 hover:text-white hover:bg-white/10 p-2 w-auto h-auto rounded-full\"\r\n                            >\r\n                                <X size={24} />\r\n                            </GameButton>\r\n\r\n                            {isSuccess ? (\r\n                                <div className=\"text-center py-8\">\r\n                                    <motion.div\r\n                                        initial={{ scale: 0 }}\r\n                                        animate={{ scale: 1 }}\r\n                                        className=\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4\"\r\n                                    >\r\n                                        <CheckCircle className=\"text-white w-10 h-10\" />\r\n                                    </motion.div>\r\n                                    <h3 className=\"text-2xl font-bold text-white mb-2\">You&apos;re Registered!</h3>\r\n                                    <p className=\"text-slate-300 mb-6\">Thank you for joining the Eternal Tower Saga. We&apos;ll notify you when the adventure begins.</p>\r\n                                    <button\r\n                                        onClick={onClose}\r\n                                        className=\"bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-6 rounded-full transition-colors\"\r\n                                    >\r\n                                        Close\r\n                                    </button>\r\n                                </div>\r\n                            ) : (\r\n                                <>\r\n                                    <div className=\"text-center mb-6\">\r\n                                        <h3 className=\"text-2xl font-bold text-white mb-1\">Pre-Register Now</h3>\r\n                                        <p className=\"text-slate-400 text-sm\">Join thousands of adventurers and unlock exclusive rewards.</p>\r\n                                    </div>\r\n\r\n                                    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\r\n                                        <div>\r\n                                            <label htmlFor=\"email\" className=\"block text-sm font-medium text-slate-300 mb-1\">Email Address</label>\r\n                                            <input\r\n                                                {...register('email')}\r\n                                                type=\"email\"\r\n                                                placeholder=\"adventurer@example.com\"\r\n                                                className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\r\n                                            />\r\n                                            {errors.email && (\r\n                                                <p className=\"text-red-400 text-sm mt-1\">{errors.email.message}</p>\r\n                                            )}\r\n                                        </div>\r\n\r\n                                        {serverError && (\r\n                                            <div className=\"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm text-center\">\r\n                                                {serverError}\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        <GameButton\r\n                                            type=\"submit\"\r\n                                            isLoading={isSubmitting}\r\n                                        >\r\n                                            Join the Saga\r\n                                        </GameButton>\r\n                                    </form>\r\n                                </>\r\n                            )}\r\n                        </motion.div>\r\n                    </motion.div>\r\n                </>\r\n            )}\r\n        </AnimatePresence>\r\n    )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\admin\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\admin\\Sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\admin\\StatCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\ui\\GameButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\lib\\prisma.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\lib\\schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\src\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\eternal-tower-sage-landing\\tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]